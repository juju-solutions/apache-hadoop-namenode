#!/bin/bash

if ! charms.reactive is_state 'namenode.ready'; then
    action-fail 'NameNode not yet ready'
    exit
fi

if command -v systemctl >/dev/null; then
  # assume systemd
  systemctl restart namenode
elif command -v service >/dev/null; then
  # assume upstart
  service namenode restart
fi
